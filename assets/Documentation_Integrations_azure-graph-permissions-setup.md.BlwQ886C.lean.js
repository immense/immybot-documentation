import{_ as a,a as l,b as u,c as m,d,e as p,f as c,g,h as f,i as h,j as y}from"./chunks/2021-08-16-13-23-26.MF6g08oF.js";import{_ as A,c as b,ah as r,j as e,G as n,w as i,a as o,B as P,o as k}from"./chunks/framework.BWXOFiC5.js";const $=JSON.parse('{"title":"AzureAD/365 Graph Permissions","description":"","frontmatter":{},"headers":[],"relativePath":"Documentation/Integrations/azure-graph-permissions-setup.md","filePath":"Documentation/Integrations/azure-graph-permissions-setup.md"}'),C={name:"Documentation/Integrations/azure-graph-permissions-setup.md"},z={class:"details custom-block"},I={class:"details custom-block"},x={class:"details custom-block"},D={class:"details custom-block"},v={class:"details custom-block"},q={class:"details custom-block"},S={class:"details custom-block"},w={class:"details custom-block"},T={class:"details custom-block"},B={class:"details custom-block"},G={class:"details custom-block"},_={class:"details custom-block"},N={class:"details custom-block"};function R(E,t,M,V,L,O){const s=P("font");return k(),b("div",null,[t[50]||(t[50]=r("",16)),e("details",z,[e("summary",null,[n(s,{style:{"font-size":"20px"}},{default:i(()=>t[0]||(t[0]=[o("ðŸ“·")])),_:1,__:[0]})]),t[1]||(t[1]=e("p",null,[e("img",{src:a,alt:"alt"})],-1))]),t[51]||(t[51]=e("ol",{start:"2"},[e("li",null,"Click on new registration")],-1)),e("details",I,[e("summary",null,[n(s,{style:{"font-size":"20px"}},{default:i(()=>t[2]||(t[2]=[o("ðŸ“·")])),_:1,__:[2]})]),t[3]||(t[3]=e("p",null,[e("img",{src:l,alt:"alt"})],-1))]),t[52]||(t[52]=e("ol",{start:"3"},[e("li",null,'Name it something recognizable such as "ImmyBot Custom Application"'),e("li",null,'Select second radial button for (Any Microsoft Entra ID tenant - Multitenant)"'),e("li",null,"Add your Web redirect URI"),e("li",null,"Click Register")],-1)),e("details",x,[e("summary",null,[n(s,{style:{"font-size":"20px"}},{default:i(()=>t[4]||(t[4]=[o("ðŸ“·")])),_:1,__:[4]})]),t[5]||(t[5]=e("p",null,[e("img",{src:u,alt:"alt"})],-1))]),t[53]||(t[53]=e("div",{class:"warning custom-block"},[e("p",{class:"custom-block-title"},"WARNING"),e("p",null,[e("strong",null,"Important!"),o(" Your app registration must have a Web redirect uri of "),e("code",null,"https://<your-domain>.immy.bot/consent-callback"),o(", replacing "),e("code",null,"<your-domain>"),o(" appropriately")])],-1)),t[54]||(t[54]=e("h2",{id:"grant-permissions",tabindex:"-1"},[o("Grant Permissions "),e("a",{class:"header-anchor",href:"#grant-permissions","aria-label":'Permalink to "Grant Permissions"'},"â€‹")],-1)),e("p",null,[t[7]||(t[7]=o("See the ")),n(s,{style:{"font-size":"20px"}},{default:i(()=>t[6]||(t[6]=[o("ðŸ“·")])),_:1,__:[6]}),t[8]||(t[8]=o("s below for the minimum permissions."))]),e("ol",null,[t[22]||(t[22]=e("li",null,"Click on API Permissions",-1)),e("li",null,[t[11]||(t[11]=o("Click Add Permissions")),e("details",D,[e("summary",null,[n(s,{style:{"font-size":"20px"}},{default:i(()=>t[9]||(t[9]=[o("ðŸ“·")])),_:1,__:[9]})]),t[10]||(t[10]=e("p",null,[e("img",{src:m,alt:""})],-1))])]),t[23]||(t[23]=e("li",null,[o("Click on Microsoft Graph"),e("details",{class:"details custom-block"},[e("summary",null,"ðŸ“·"),e("p",null,[e("img",{src:d,alt:"alt text"})])])],-1)),e("li",null,[t[14]||(t[14]=o("Click on Application Permissions")),e("details",v,[e("summary",null,[n(s,{style:{"font-size":"20px"}},{default:i(()=>t[12]||(t[12]=[o("ðŸ“·")])),_:1,__:[12]})]),t[13]||(t[13]=e("p",null,[e("img",{src:p,alt:"alt text"})],-1))])]),e("li",null,[t[17]||(t[17]=o("Add the following permissions ")),t[18]||(t[18]=e("ol",null,[e("li",null,"DelegatedAdminRelationship.Read.All"),e("li",null,"DeviceManagementManagedDevices.ReadWrite.All"),e("li",null,"Directory.Read.All"),e("li",null,"User.Read")],-1)),e("details",q,[e("summary",null,[n(s,{style:{"font-size":"20px"}},{default:i(()=>t[15]||(t[15]=[o("ðŸ“·")])),_:1,__:[15]})]),t[16]||(t[16]=e("p",null,[e("img",{src:c,alt:"alt text"})],-1))])]),e("li",null,[t[21]||(t[21]=o("Click Grant Admin Consent for <'your Azure tenant name'>")),e("details",S,[e("summary",null,[n(s,{style:{"font-size":"20px"}},{default:i(()=>t[19]||(t[19]=[o("ðŸ“·")])),_:1,__:[19]})]),t[20]||(t[20]=e("p",null,[e("img",{src:g,alt:"alt text"})],-1))])])]),t[55]||(t[55]=e("h2",{id:"create-client-secret",tabindex:"-1"},[o("Create Client Secret "),e("a",{class:"header-anchor",href:"#create-client-secret","aria-label":'Permalink to "Create Client Secret"'},"â€‹")],-1)),e("ol",null,[t[33]||(t[33]=e("li",null,"Click on Certificates & Secrets which is under Manage",-1)),e("li",null,[t[26]||(t[26]=o("Click on New Client Secret")),e("details",w,[e("summary",null,[n(s,{style:{"font-size":"20px"}},{default:i(()=>t[24]||(t[24]=[o("ðŸ“·")])),_:1,__:[24]})]),t[25]||(t[25]=e("p",null,[e("img",{src:f,alt:""})],-1))])]),t[34]||(t[34]=e("li",null,"Create a meaningful description",-1)),t[35]||(t[35]=e("li",null,"Set the Expires timeline to 24 months",-1)),e("li",null,[t[29]||(t[29]=o("Click Add")),e("details",T,[e("summary",null,[n(s,{style:{"font-size":"20px"}},{default:i(()=>t[27]||(t[27]=[o("ðŸ“·")])),_:1,__:[27]})]),t[28]||(t[28]=e("p",null,[e("img",{src:h,alt:""})],-1))])]),e("li",null,[t[32]||(t[32]=o("Copy the Secret Value and paste it into ImmyBot")),e("details",B,[e("summary",null,[n(s,{style:{"font-size":"20px"}},{default:i(()=>t[30]||(t[30]=[o("ðŸ“·")])),_:1,__:[30]})]),t[31]||(t[31]=e("p",null,[e("img",{src:y,alt:""})],-1))])])]),t[56]||(t[56]=r("",19)),e("ol",null,[t[47]||(t[47]=e("li",null,[o("Navigate to the "),e("a",{href:"https://portal.azure.com",target:"_blank",rel:"noreferrer"},"Azure Portal")],-1)),t[48]||(t[48]=e("li",null,[o("Navigate to the "),e("a",{href:"https://portal.azure.com/#view/Microsoft_AAD_IAM/ActiveDirectoryMenuBlade/~/Overview",target:"_blank",rel:"noreferrer"},"Microsoft Entra ID blade")],-1)),t[49]||(t[49]=e("li",null,[o("Navigate to the "),e("a",{href:"https://portal.azure.com/#view/Microsoft_AAD_RegisteredApps/ApplicationsListBlade",target:"_blank",rel:"noreferrer"},"App Registrations blade")],-1)),e("li",null,[t[38]||(t[38]=o("Select the app registration you created for ImmyBot ")),t[39]||(t[39]=e("ul",null,[e("li",null,'You may need to change the filter to "All Applications"'),e("li",null,"You can paste the Application (client) ID of your custom app registration into the search box to find it")],-1)),e("details",G,[e("summary",null,[n(s,{style:{"font-size":"20px"}},{default:i(()=>t[36]||(t[36]=[o("ðŸ“·")])),_:1,__:[36]})]),t[37]||(t[37]=e("p",null,[e("img",{src:"https://github.com/immense/immybot-documentation/assets/95599350/2021ff38-03cd-4132-88b4-bd70fcf8f861",alt:"image"})],-1))])]),e("li",null,[t[44]||(t[44]=o("Navigate to the Authentication blade ")),t[45]||(t[45]=e("ul",null,[e("li",null,'Select "Add a platform"'),e("li",null,'Select "Web" as the type')],-1)),e("details",_,[e("summary",null,[n(s,{style:{"font-size":"20px"}},{default:i(()=>t[40]||(t[40]=[o("ðŸ“·")])),_:1,__:[40]})]),t[41]||(t[41]=e("p",null,[e("img",{src:"https://github.com/immense/immybot-documentation/assets/95599350/a4ac66be-3353-45d6-af38-6d76c16dc303",alt:"image"})],-1))]),t[46]||(t[46]=e("ul",null,[e("li",null,[o("Enter "),e("code",null,"https://<your-domain>.immy.bot/consent-callback"),o(" as the redirect uri, replacing "),e("code",null,"<your-domain>"),o(" appropriately")]),e("li",null,'Click "Configure"')],-1)),e("details",N,[e("summary",null,[n(s,{style:{"font-size":"20px"}},{default:i(()=>t[42]||(t[42]=[o("ðŸ“·")])),_:1,__:[42]})]),t[43]||(t[43]=e("p",null,[e("img",{src:"https://github.com/immense/immybot-documentation/assets/95599350/292eef9f-fa2b-46ff-8834-b2ef2f24ae0f",alt:"image"})],-1))])])])])}const j=A(C,[["render",R]]);export{$ as __pageData,j as default};
