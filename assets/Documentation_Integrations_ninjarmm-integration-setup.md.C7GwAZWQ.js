import{_ as l,c as r,ah as o,j as i,a as e,G as a,w as s,B as p,o as d}from"./chunks/framework.BWXOFiC5.js";const c="/assets/NinjaOne-blankintegration.h9je1Bal.png",h="/assets/NinjaIntegration1.AwLJPgmJ.png",u="/assets/NinjaIntegration2.BucikYLa.png",m="/assets/NinjaIntegration3.C9eqoE3V.png",g="/assets/NinjaIntegration4.DkTyWi-i.png",_=JSON.parse('{"title":"NinjaRMM Dynamic Integration","description":"","frontmatter":{},"headers":[],"relativePath":"Documentation/Integrations/ninjarmm-integration-setup.md","filePath":"Documentation/Integrations/ninjarmm-integration-setup.md"}'),k={name:"Documentation/Integrations/ninjarmm-integration-setup.md"},y={class:"details custom-block"},f={class:"details custom-block"},b={class:"details custom-block"},E={class:"details custom-block"},A={class:"details custom-block"};function w(I,t,C,N,j,v){const n=p("font");return d(),r("div",null,[t[20]||(t[20]=o(`<h1 id="ninjarmm-dynamic-integration" tabindex="-1">NinjaRMM Dynamic Integration <a class="header-anchor" href="#ninjarmm-dynamic-integration" aria-label="Permalink to &quot;NinjaRMM Dynamic Integration&quot;">â€‹</a></h1><h2 id="setting-up-this-integration-allows-you-to" tabindex="-1">Setting up this integration allows you to: <a class="header-anchor" href="#setting-up-this-integration-allows-you-to" aria-label="Permalink to &quot;Setting up this integration allows you to:&quot;">â€‹</a></h2><ul><li>Import customers from NinjaRMM</li><li>Import computers from NinjaRMM</li><li>Manage all computers in NinjaRMM without deploying the ImmyBot Agent</li><li>Create ImmyBot Role in NinjaRMM</li></ul><h2 id="configure-the-following-in-general-settings-administration-general-settings" tabindex="-1">Configure the following in general settings (Administration -&gt; General -&gt; Settings) <a class="header-anchor" href="#configure-the-following-in-general-settings-administration-general-settings" aria-label="Permalink to &quot;Configure the following in general settings (Administration -&gt; General -&gt; Settings)&quot;">â€‹</a></h2><ul><li>Ninja Agent uninstall prevention -&gt; OFF (Optional: This permission is only needed so ImmyBot can also uninstall the Ninja agent)</li><li>Advanced Installer Options -&gt; ON</li></ul><h2 id="create-a-script-in-the-ninjarmm-automation-library" tabindex="-1">Create a script in the NinjaRMM Automation library <a class="header-anchor" href="#create-a-script-in-the-ninjarmm-automation-library" aria-label="Permalink to &quot;Create a script in the NinjaRMM Automation library&quot;">â€‹</a></h2><p>(<code>Administration</code> -&gt; <code>Library</code> -&gt; <code>Automation</code> -&gt; <code>Add</code> -&gt; <code>New Script</code>)</p><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Param</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Parameter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">Mandatory</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]$code</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$bytes </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">System.Convert</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]::FromBase64String($code)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$DecodedCommand </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">System.Text.Encoding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]::UTF8.GetString($bytes)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Execute Script Content</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">iex $DecodedCommand</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Write-Host</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Ephemeral Agent started&quot;</span></span></code></pre></div><p>The script should be set to</p><ul><li>Name: ImmyBot</li><li>Language: Powershell</li><li>Operating System: Windows</li><li>Architecture: All</li><li>Run As: System</li></ul><h3 id="note-the-script-id" tabindex="-1">Note the Script ID <a class="header-anchor" href="#note-the-script-id" aria-label="Permalink to &quot;Note the Script ID&quot;">â€‹</a></h3><p>Before leaving the script, also create a <code>Script Variable</code>.</p><ol><li>Hit <code>+ Add</code> next to <code>Script Variables</code>.</li><li>Select the <code>String/Text</code> type.</li><li>Enter <code>Code</code> as the variable name.</li><li>Hit <code>Add</code> to save it.</li></ol><div class="info custom-block"><p class="custom-block-title">Get the script ID from the URL</p><p>Get the script Id in the URL <code>https://{region}.ninjarmm.com/#/editor/script/71</code> -&gt; <code>71</code>. It will be needed as one of the parameters in the integration setup to run scripts.</p></div><h2 id="create-the-integration-in-immybot" tabindex="-1">Create the integration in ImmyBot <a class="header-anchor" href="#create-the-integration-in-immybot" aria-label="Permalink to &quot;Create the integration in ImmyBot&quot;">â€‹</a></h2><p>(<code>Show More</code> -&gt; <code>Integrations</code> -&gt; <code>Add Integration</code> -&gt; <code>NinjaRMM</code>)</p>`,16)),i("ol",null,[i("li",null,[t[2]||(t[2]=e("Add the required parameters and authenticate the OAuthInfo parameter with a NinjaRMM user with sufficient privileges: ")),t[3]||(t[3]=i("ul",null,[i("li",null,"Name: NinjaRMM"),i("li",null,"Region: This is the subdomain"),i("li",null,[e("ScriptID: From the URL in the "),i("a",{href:"/Documentation/Integrations/ninjarmm-integration-setup.html#note-the-script-id"},"script step above")]),i("li",null,"UseCustomClientApp: This is optional and not recommended")],-1)),i("details",y,[i("summary",null,[a(n,{style:{"font-size":"20px"}},{default:s(()=>t[0]||(t[0]=[e("ðŸ“·")])),_:1,__:[0]})]),t[1]||(t[1]=i("p",null,[i("img",{src:c,alt:"image"})],-1))])]),t[4]||(t[4]=i("li",null,"Once that is filled out, click on Provide Concent, and follow the onscreen instructions.",-1)),t[5]||(t[5]=i("li",null,"Once that is done click update and enable the integration.",-1))]),t[21]||(t[21]=o('<div class="warning custom-block github-alert"><p class="custom-block-title">WARNING</p><p>Currently the UI element for the OAuthInfo parameter button will not persist when you refresh the browser window. This will not kill your integration, so just leave it as is.</p></div><h2 id="migrating-to-the-official-immybot-ninjaone-integration" tabindex="-1">Migrating to the official ImmyBot NinjaOne integration <a class="header-anchor" href="#migrating-to-the-official-immybot-ninjaone-integration" aria-label="Permalink to &quot;Migrating to the official ImmyBot NinjaOne integration&quot;">â€‹</a></h2><p>You need to do this if you want to utlize the sliding refresh token provided by Ninja. This will prevent you from having to constantly consent through oAuth.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>You only need to follow this if you created your integration prior to January 21, 2026.</p></div><div class="warning custom-block github-alert"><p class="custom-block-title">Minimum requirements</p><p>You must be upgraded to ImmyBot .76.0 in order to utilize the official client app.</p></div>',5)),i("ol",null,[i("li",null,[t[8]||(t[8]=e("Click Override for UseCustomClientApp then select False")),i("details",f,[i("summary",null,[a(n,{style:{"font-size":"20px"}},{default:s(()=>t[6]||(t[6]=[e("ðŸ“·")])),_:1,__:[6]})]),t[7]||(t[7]=i("p",null,[i("img",{src:h,alt:"alt text"})],-1))])]),t[18]||(t[18]=i("li",null,"Click Provide Consent",-1)),i("li",null,[t[11]||(t[11]=e("Continue through our consent page")),i("details",b,[i("summary",null,[a(n,{style:{"font-size":"20px"}},{default:s(()=>t[9]||(t[9]=[e("ðŸ“·")])),_:1,__:[9]})]),t[10]||(t[10]=i("p",null,[i("img",{src:u,alt:"alt text"})],-1))])]),i("li",null,[t[14]||(t[14]=e("Continue through Ninja's consent page")),i("details",E,[i("summary",null,[a(n,{style:{"font-size":"20px"}},{default:s(()=>t[12]||(t[12]=[e("ðŸ“·")])),_:1,__:[12]})]),t[13]||(t[13]=i("p",null,[i("img",{src:m,alt:"alt text"})],-1))])]),i("li",null,[t[17]||(t[17]=e("Once you get back to the confirmation page, close it to go back to the integration settings page")),i("details",A,[i("summary",null,[a(n,{style:{"font-size":"20px"}},{default:s(()=>t[15]||(t[15]=[e("ðŸ“·")])),_:1,__:[15]})]),t[16]||(t[16]=i("p",null,[i("img",{src:g,alt:"alt text"})],-1))])]),t[19]||(t[19]=i("li",null,"Finally, click Update",-1))]),t[22]||(t[22]=o('<p>Congratulations! You&#39;ve migrated to the official client app in Ninja for ImmyBot!</p><h2 id="deprecated-create-a-client-app-in-your-ninjarmm-instance-using-above-permissions" tabindex="-1">Deprecated - Create a client app in your NinjaRMM instance using above permissions <a class="header-anchor" href="#deprecated-create-a-client-app-in-your-ninjarmm-instance-using-above-permissions" aria-label="Permalink to &quot;Deprecated - Create a client app in your NinjaRMM instance using above permissions&quot;">â€‹</a></h2><div class="info custom-block"><p class="custom-block-title">INFO</p><p>You no longer need to do this, but it is still an option if you want to create your own app in Ninja.</p></div><h3 id="immybot-currently-requires-the-following-client-app-scopes-to-operate-correctly" tabindex="-1">ImmyBot currently requires the following client app scopes to operate correctly <a class="header-anchor" href="#immybot-currently-requires-the-following-client-app-scopes-to-operate-correctly" aria-label="Permalink to &quot;ImmyBot currently requires the following client app scopes to operate correctly&quot;">â€‹</a></h3><ul><li>Monitoring</li><li>Management</li><li>Control</li></ul><h3 id="as-well-as-the-following-grant-types" tabindex="-1">As well as the following grant types <a class="header-anchor" href="#as-well-as-the-following-grant-types" aria-label="Permalink to &quot;As well as the following grant types&quot;">â€‹</a></h3><ul><li>Authorization Code</li><li>Refresh Token</li></ul><p>(<code>Administration</code> -&gt; <code>Apps</code> -&gt; <code>Api</code> -&gt; <code>Add</code>)</p><ol><li><p>Set the Application platform to Web</p></li><li><p>Set the Name to ImmyBot or whatever you want</p></li><li><p>Set the redirect URI to <code>https://&lt;instance&gt;.immy.bot/consent-callback</code></p><ul><li>You need to press Enter after inputting your URI.</li></ul><div class="warning custom-block github-alert"><p class="custom-block-title">WARNING</p><p>Note: Change the &quot;instance&quot; in the redirect uri to your ImmyBot subdomain</p></div></li><li><p>Under scopes check <code>Monitoring</code>, <code>Management</code>, and <code>Control</code></p></li><li><p>Under Allowed Grant Types select <code>Authorization Code</code> and <code>Refresh Token</code></p></li></ol><p><img src="https://github.com/user-attachments/assets/5a27d217-a574-4a34-b42a-dd9a984e2ce1" alt="image"></p><p>At this point, you should be able to map clients. Once clients are mapped, agents will start getting identified.</p>',11))])}const S=l(k,[["render",w]]);export{_ as __pageData,S as default};
