import{_ as n,c as l,ah as r,b as c,w as o,ai as d,j as e,a as i,B as p,o as a,G as u}from"./chunks/framework.BWXOFiC5.js";const h="/assets/S1-LU-LD-Auth.Db0hyw8F.png",v=JSON.parse('{"title":"Security Software Exclusions","description":"","frontmatter":{},"headers":[],"relativePath":"Documentation/Troubleshooting/security-software-exclusions.md","filePath":"Documentation/Troubleshooting/security-software-exclusions.md"}'),m={name:"Documentation/Troubleshooting/security-software-exclusions.md"};function g(f,t,b,y,w,k){const s=p("Mermaid");return a(),l("div",null,[t[1]||(t[1]=r(`<h1 id="security-software-exclusions" tabindex="-1">Security Software Exclusions <a class="header-anchor" href="#security-software-exclusions" aria-label="Permalink to &quot;Security Software Exclusions&quot;">​</a></h1><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p>This document lists out security exclusion recommendations. These exclusions are intended to keep ImmyBot running effectively. This is not an exhaustive list. Please contact support if you&#39;re using a platform not on this list, and would like guidance on proceeding.</p><h2 id="prerequisites" tabindex="-1">Prerequisites <a class="header-anchor" href="#prerequisites" aria-label="Permalink to &quot;Prerequisites&quot;">​</a></h2><p>Admin access to your security platforms.</p><h2 id="security-software-exclusions-1" tabindex="-1">Security Software Exclusions <a class="header-anchor" href="#security-software-exclusions-1" aria-label="Permalink to &quot;Security Software Exclusions&quot;">​</a></h2><p>Ideally you would instruct your security software would support excluding code signed by</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>ImmyBot&#39;s current code-signing certificate is set to change on Feb. 11th, 2025. Please add both our upcoming and existing certificate exclusions to ensure no issues.</p><p>Please see the <a href="https://docs.immy.bot/FAQ.html#what-should-i-do-about-immybot-s-upcoming-code-signing-certificate-change" target="_blank" rel="noreferrer">FAQ section for more details</a></p></div><p>This certificate is used to sign our Agent binaries &amp; installers delivered to machines.</p><p>Unfortunately, our new certificate&#39;s <code>Organization(O)</code> and <code>Common Name(CN)</code> fields are changing from <code>Immense Networks</code> to <code>ImmyBot LLC</code>.</p><p>New Certificate on Feb. 11th, 2025:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>CN=ImmyBot LLC, O=ImmyBot LLC, L=Baton Rouge, S=Louisiana, C=US</span></span></code></pre></div><p>Existing Certificate:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>CN=Immense Networks, O=Immense Networks, L=Baton Rouge, S=Louisiana, C=US</span></span></code></pre></div><p>Add <em><strong>both</strong></em> certificates to avoid issues if following before Feb. 11th, 2025 <em><strong>OR</strong></em> your instance has existing machines installed (which may have agents installed with older certificate)!</p><p>Exclusions based on code signing certificate are an industry standard feature and should be a standard feature in any best-in-class security software. However, if your security software is unable to exclude based on code signing certificate, create an exclusion for your instance&#39;s Script Path.</p><div class="tip custom-block"><p class="custom-block-title">Finding the script Path for your instance</p><p>Your script path can be found under <strong>Settings</strong> -&gt; <strong>Preferences</strong> -&gt; <strong>Script Path</strong></p><p><img src="https://user-images.githubusercontent.com/1424395/173610304-50bab775-c7c8-40b3-944e-fab1dde862ee.png" alt="image"></p></div><h2 id="threatlocker" tabindex="-1">ThreatLocker <a class="header-anchor" href="#threatlocker" aria-label="Permalink to &quot;ThreatLocker&quot;">​</a></h2><ol><li>Application Control-&gt; Applications</li><li>Create New Application</li><li>Put the following value into Certificate and click Add</li></ol><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>ImmyBot&#39;s current code-signing certificate is set to change on Feb. 11th, 2025. Please add both our upcoming and existing certificate exlusions to ensure no issues.</p><p>Please see the <a href="https://docs.immy.bot/FAQ.html#what-should-i-do-about-immybot-s-upcoming-code-signing-certificate-change" target="_blank" rel="noreferrer">FAQ section for more details</a></p></div><p>This certificate is used to sign our Agent binaries &amp; installers delivered to machines.</p><p>Unfortunately, our new certificate&#39;s <code>Organization(O)</code> and <code>Common Name(CN)</code> fields are changing from <code>Immense Networks</code> to <code>ImmyBot LLC</code>.</p><p>New Certificate on Feb. 11th, 2025:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>CN=ImmyBot LLC, O=ImmyBot LLC, L=Baton Rouge, S=Louisiana, C=US</span></span></code></pre></div><p>Existing Certificate:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>CN=Immense Networks, O=Immense Networks, L=Baton Rouge, S=Louisiana, C=US</span></span></code></pre></div><p>Add <em><strong>both</strong></em> certificates to avoid issues if following before Feb. 11th, 2025 <em><strong>OR</strong></em> your instance has existing machines installed (which may have agents installed with older certificate)!</p><ol><li>Add your instance’s <a href="#script-path-exclusion">script path</a><img src="https://user-images.githubusercontent.com/1424395/173602708-b8e239f8-efaa-4e16-a29c-9fb66f72e616.png" alt="image"> Ultimately it should look like this: <img src="https://user-images.githubusercontent.com/1424395/173602739-2b60922f-5ac8-4d4c-bc93-d52a390e129e.png" alt="image"></li><li>Create a New Application Policy <img src="https://user-images.githubusercontent.com/1424395/173602798-7042c0ea-1406-476c-a291-0deee6e843c5.png" alt="image"></li></ol><h2 id="sophos-central" tabindex="-1">Sophos Central <a class="header-anchor" href="#sophos-central" aria-label="Permalink to &quot;Sophos Central&quot;">​</a></h2><p><strong>Tenant Specific</strong> Manual Addition:</p><ol><li>Launch Client Shell</li><li>Navigate to Global Settings - Allowed Applications</li><li>Select &quot;Add apps&quot;</li><li>In the &quot;allow by:&quot; dropdown, select certificate and add the following</li></ol><p>New Certificate on Feb. 11th, 2025:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>CN=ImmyBot LLC, O=ImmyBot LLC, L=Baton Rouge, S=Louisiana, C=US</span></span></code></pre></div><p>Existing Certificate:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>CN=Immense Networks, O=Immense Networks, L=Baton Rouge, S=Louisiana, C=US</span></span></code></pre></div><p>Event Log Method: If Sophos reports that Immy Bot has been blocked, you have the option of going to the Event Log and and select the option to allow by Certificate. This will only work if Sophos has picked up an alert for a process signed by the Immy Bot code signing certificate</p><p><strong>Partner Global Templates</strong></p><ol><li>Navigate to Settings &amp; Policies - Global Templates and select the template you would like to modify</li><li>Once in the template, navigate to Global Settings - Allowed Applications</li><li>Follow steps 3 and 4 listed in the <strong>Tenant Specific</strong> section above</li></ol><h2 id="bitdefender" tabindex="-1">BitDefender <a class="header-anchor" href="#bitdefender" aria-label="Permalink to &quot;BitDefender&quot;">​</a></h2><p>BitDefender will intermittently block script execution unless you disable Aggressive scanning mode or add a your instance&#39;s <a href="#security-software-exclusions">Script Path</a> to your policy&#39;s exclusion list.</p><ol><li>Edit the policy-&gt;Antimalware-&gt;Settings-&gt;In-policy Exclusions</li><li>Add a folder exclusion for your <a href="#security-software-exclusions">Script Path</a></li></ol><h2 id="crowdstrike" tabindex="-1">CrowdStrike <a class="header-anchor" href="#crowdstrike" aria-label="Permalink to &quot;CrowdStrike&quot;">​</a></h2><p>CrowdStrike uses AI to decide what to allow and disallow. Periodically this AI will mark the ImmyBot Agent or ImmyBot Ephemeral Agent as malicious. This usually happens after we update it. Marking it as a false positive in your CrowdStrike portal will train the global AI to not treat it as malicious.</p><h2 id="microsoft-defender-for-endpoint" tabindex="-1">Microsoft Defender for Endpoint <a class="header-anchor" href="#microsoft-defender-for-endpoint" aria-label="Permalink to &quot;Microsoft Defender for Endpoint&quot;">​</a></h2><p>Add a your instance&#39;s <a href="#security-software-exclusions">Script Path</a> to your policy&#39;s exclusion list. <a href="https://docs.microsoft.com/en-us/mem/intune/configuration/device-restrictions-configure#create-the-profile" target="_blank" rel="noreferrer">https://docs.microsoft.com/en-us/mem/intune/configuration/device-restrictions-configure#create-the-profile</a></p><h2 id="cylance" tabindex="-1">Cylance <a class="header-anchor" href="#cylance" aria-label="Permalink to &quot;Cylance&quot;">​</a></h2><p>Cylance blocks our websocket making the ImmyBot Agent log look like this:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>2022-09-21 12:24:26.562 -04:00 [INF] Process exiting.</span></span>
<span class="line"><span>2022-09-21 12:24:40.106 -04:00 [DBG] Closing Websocket...</span></span>
<span class="line"><span>2022-09-21 12:24:49.743 -04:00 [INF] Marked ConnectionState as disconnected.</span></span>
<span class="line"><span>2022-09-21 12:24:50.171 -04:00 [ERR] Application shutting down (App lifetime token cancelled)</span></span>
<span class="line"><span>System.IO.IOException: Cannot access a closed stream.</span></span>
<span class="line"><span>at System.Net.Http.HttpConnection.RawConnectionStream.WriteAsync(ReadOnlyMemory\`1 buffer, CancellationToken cancellationToken)</span></span></code></pre></div><p>To correct it, you need to bypass SSL Inspection for your instances hostnames/IPs, which are found under Show more &gt; integrations &gt; Fetch IP Address and Hostnames</p><h2 id="sentinelone" tabindex="-1">SentinelOne <a class="header-anchor" href="#sentinelone" aria-label="Permalink to &quot;SentinelOne&quot;">​</a></h2><p>Sentinel requires BOTH your instance&#39;s Script path and the ImmyBot Agent process excluded. With only the script path excluded, devices will regularly have issues running the ImmyBot Agent to download the ephemeral agent. This is apparent in two cases:</p><ol><li>Importing devices - The new agent can&#39;t download the ephemeral agent to start running inventory.</li><li>Updating ImmyBot Agents - The new agent can&#39;t download the corresponding new ephemeral agent when attempting to run deployments or scripts.</li></ol><p>You can also set your Exclusion Mode to &quot;Interoperability - Extended&quot;.</p><div class="danger custom-block"><p class="custom-block-title">Updating SentinelOne through ImmyBot</p><p>If you want ImmyBot to handle SentinelOne updates, you must enable &quot;Local Upgrade/Downgrade Authorization&quot; found in:</p><p><strong>Sentinels</strong> &gt; <strong>Policy</strong> &gt; <strong>Agent</strong></p><p><img src="`+h+'" alt="alt text"></p></div><h2 id="dnsfilter" tabindex="-1">DNSFilter <a class="header-anchor" href="#dnsfilter" aria-label="Permalink to &quot;DNSFilter&quot;">​</a></h2><p>There have been reports indicating that DNSFilter, along with potentially other DNS filtering tools, is not directly blocking subdomain.immy.bot but has failed to resolve some DNS queries.</p><p>Specifically, in the case of DNSFilter, it was confirmed that ImmyBot was not being blocked. However, the failure in DNS resolution meant that connection attempts to the backend were unsuccessful.</p><p>Explicitly allowing the DNS for subdomain.immy.bot (replacing &quot;subdomain&quot; with your specific ImmyBot instance subdomain) was verified to resolve the issue of failed DNS resolutions.</p><p>For guidance on managing allow and block lists, please refer to: <a href="https://help.dnsfilter.com/hc/en-us/articles/1500008111381-Allow-and-Block-Lists" target="_blank" rel="noreferrer">https://help.dnsfilter.com/hc/en-us/articles/1500008111381-Allow-and-Block-Lists</a></p><h2 id="ssl-inspection" tabindex="-1">SSL Inspection <a class="header-anchor" href="#ssl-inspection" aria-label="Permalink to &quot;SSL Inspection&quot;">​</a></h2><div class="danger custom-block"><p class="custom-block-title">ImmyBot does not support SSL Inspection</p><p>Our agents can detect SSL inspection and will log it in the platform. Part of troubleshooting will be to turn off SSL inspection if any of our agents cannot connect.</p></div><ol><li>Add the security exclusions for your instance to your firewall <ul><li>This is going to vary firewall to firewall, please consult your firewall vendor&#39;s manual.</li><li>You can find the domains and IP addresses you need to exclude by going to <code>Show more</code> -&gt; <code>SMTP</code> -&gt; <code>Click on &quot;Fetch IP Addresses and Hostnames&quot;</code></li></ul></li><li>Duplicate the certificate task <ul><li>Duplicate the &quot;Import Certificate&quot; task in ImmyBot, rename it something self documenting such as &quot;Corp Office - SSL Inspection&quot;</li></ul></li><li>Create deployment for that duplicate task <ul><li>Create a deployment using the task you created in step 2, configure it with the SSL Certificate for the SSL inspection. Set the targeting as you need.</li></ul></li><li>Update deployment ordering so that this deployment item is first in the beginning column. <ul><li><code>Library</code> -&gt; <code>Deployment Ordering</code></li><li>Move the task you created in step 2 to the top of the beginning column.</li></ul></li></ol><p>Intended workflow:</p>',63)),(a(),c(d,null,{default:o(()=>[u(s,{id:"mermaid-332",class:"mermaid",graph:"flowchart%20TD%0A%20%20%20%20A%5BImmyBot%20gets%20installed%5D--%3E%7CEphemeral%20Agent%20bypasses%20SSL%20Inspection%7C%20B(Maintenance%20Session%20starts)%0A%20%20%20%20B%20--%3E%20C(Session%20installs%20SSL%20Certificate%20first)%0A%0A"})]),fallback:o(()=>t[0]||(t[0]=[i(" Loading... ")])),_:1})),t[2]||(t[2]=e("p",null,[e("br"),e("br"),e("br")],-1)),t[3]||(t[3]=e("div",{class:"note custom-block github-alert"},[e("p",{class:"custom-block-title"},"Document information"),e("p",null,[i("Author: Mark Gomez "),e("br"),i(" Date Published: 9/30/2025 "),e("br"),i(" Date Revised:N/A "),e("br"),i(" Version Number: 1.0")])],-1))])}const C=n(m,[["render",g]]);export{v as __pageData,C as default};
